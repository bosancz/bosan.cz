<section>
  <div class="container">

    <a (click)="openLeadEventModal()" class="btn btn-primary btn-sm text-light float-right">Vést akci</a>

    <h2>Moje akce</h2>

    <div class="events">
      
      <div *ngFor="let event of events" class="event card">
        <div class="card-header">
          <a [routerLink]="['./',event._id]" class="btn btn-primary btn-sm float-right">Otevřít</a>
          <div class="card-title">
            <h5>
              {{[event.dateFrom,event.dateTill] | dateRange}} | {{event.name}}
              <sup>
                <event-status-badge [event]="event"></event-status-badge>
              </sup>
            </h5>
          </div>
        </div>
        <div class="card-body row">
          <div class="col-md-9">
            <p class="multiline">{{event.description}}</p>
            <table>
              <tr>
                <th>Vedoucí:</th>
                <td><span [innerHTML]="event.leaders | joinLeaders:false"></span></td>
              </tr>
              <tr>
                <th>Účastníci ({{event.attendees.length || 0}}):</th>
                <td>{{(event.attendees | joinAttendees) || "-"}}</td>
              </tr>
              <tr>
                <th>Ujetých km po vodě:</th>
                <td>{{event.competition?.water_km || 0}} km</td>
              </tr>
            </table>
          </div>
        </div>
      </div>

    </div>

  </div>
</section>
