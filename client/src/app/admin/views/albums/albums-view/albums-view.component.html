<div class="container" *ngIf="album">

  <page-header>
    <h2 pageTitle>{{album.name}}</h2>

    <div class="actions" *actionMenu>
      <button mat-button [disabled]="!album._links.self.allowed.PATCH" routerLink="../upravit">Upravit</button>
      <button mat-button *ngIf="album.status === 'public'" [routerLink]="'/fotogalerie/' + album._id">Otevřít na webu<i class="ml-2 fas fa-external-link-alt"></i></button>
      <button mat-button color="warn" [disabled]="!album._links.self.allowed.DELETE" [disabled]="!deleteConfirmation" (click)="deleteAlbum()">Smazat</button>
    </div>
  </page-header>

  <div class="row">

    <div class="col-lg-3">

      <nav class="nav nav-pills flex-column">
        <a class="nav-link" routerLink="../upravit" routerLinkActive="active">Upravit info</a>
        <a class="nav-link" routerLink="../fotky" routerLinkActive="active">Upravit fotografie ({{album.photos.length}})</a>
        <a class="nav-link" routerLink="../upload" routerLinkActive="active">Nahrát fotografie</a>
        <a class="nav-link text-danger" routerLink="../smazat" routerLinkActive="active">Smazat album</a>
      </nav>

    </div>

    <div class="col-lg-9" [ngSwitch]="category">

      <albums-view-metadata *ngSwitchCase="'upravit'" [album]="album" (saved)="loadAlbum(album._id)"></albums-view-metadata>

      <albums-view-photos *ngSwitchCase="'fotky'" [album]="album" (saved)="loadAlbum(album._id)"></albums-view-photos>

      <albums-view-upload *ngSwitchCase="'upload'" [album]="album" (saved)="loadAlbum(album._id)"></albums-view-upload>

    </div>
  </div>
</div>